<!DOCTYPE html>
<html>
<head>
    <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.2.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>La capa de red</title>
    <meta name="generator" content="CherryTree">
    <link rel="stylesheet" href="styles.css" type="text/css">
</head>
<body>
    <h1><b><u>La capa de red</u></b></h1>
    <h2><strong>La capa de red</strong></h2><br>
    <br>
    <h3><strong>Direcciones IP</strong></h3><br>
    Las direcciones IP tienen números de 32 bits compuestos por 4 octetos y cada octeto se describe normalmente en
    números decimales. Ocho bits de datos, o un solo octeto, pueden representar todos los números decimales del 0 al
    255. Este formato se conoce como notación decimal con puntos.<br>
    <img src="images/2-1.png" alt="images/2-1.png"><br>
    Es importante enfatizar que las direcciones IP pertenecen a las redes, no a los dispositivos conectados a esas
    redes. De esta forma, tu laptop siempre tendrá la misma dirección MAC, no importa donde la utilices. Pero una
    dirección IP asignada en un cibercafé será diferente a la que tendría tu laptop si estuvieras en casa.<br>
    Puedes conectar un nuevo dispositivo en cualquiera de las redes modernas, y se le asignará una dirección IP
    automáticamente a través de una tecnología conocida como <strong>Protocolo de configuración dinámica de
    host</strong> (DHCP). Una dirección IP asignada de esta manera se conoce como una dirección <strong>IP
    dinámica</strong>. Lo contrario de esto se conoce como una dirección <strong>IP estática</strong>, la que debe
    configurarse en un nodo de manera manual. En la mayoría de los casos, las direcciones IP estáticas están reservadas
    para servidores y dispositivos de red, mientras que las IP dinámicas están reservadas para los clientes. Sin
    embargo, existen ciertas situaciones en las que esto no es del todo cierto.<br>
    <br>
    <h3><strong>Datagramas de IP y encapsulación</strong></h3><br>
    En virtud del protocolo IP, a un paquete se lo conoce, por lo general, como un datagrama IP. Las dos secciones
    principales de un datagrama IP son el encabezado y la carga útil.<br>
    <img src="images/2-2.png" alt="images/2-2.png"><br>
    • El primer campo es de 4 bits, e indica qué <strong>versión de protocolo</strong> de Internet se está utilizando.
    La versión más común de IP es la versión cuatro o IPv4.<br>
    • Después del campo de versión, tenemos el campo de <strong>longitud de encabezado</strong>. Este también es un
    campo de 4 bits que muestra qué tan largo es todo el encabezado. Casi siempre tiene una longitud de 20 bytes cuando
    se trata de IPv4. De hecho, 20 bytes es la longitud mínima de un encabezado IP.<br>
    • A continuación, tenemos el campo <strong>Tipo de servicio</strong>. Estos 8 bits pueden usarse para especificar
    detalles sobre la calidad de servicio o las tecnologías QoS. Lo importante de la QoS es que hay servicios que
    permiten a los routers tomar decisiones sobre qué datagrama IP puede ser más importante que otros.<br>
    • El siguiente campo es un campo de 16 bits. conocido como el campo <strong>Longitud total</strong>. Se utiliza
    para indicar la longitud total del datagrama IP al que está asociado.<br>
    • El campo de <strong>identificación</strong> es un número de 16 bits que se utiliza para agrupar mensajes. Dado
    que el campo Longitud total es de 16 bits, y este campo indica el tamaño de un datagrama individual, el tamaño
    máximo de un solo datagrama es el número más grande que se puede representar con 16 bits: 65,535. Si la cantidad
    total de datos que debe enviarse es más grande de lo que puede caber en un solo datagrama, la capa IP necesitará
    dividir estos datos en muchos paquetes individuales. Cuando esto sucede, el campo de identificación se utiliza para
    que el extremo receptor entienda que cada paquete con el mismo valor en ese campo es parte de la misma
    transmisión.<br>
    • El <strong>campo Indicador</strong> se utiliza para indicar si un datagrama puede fragmentarse, o para indicar
    que el datagrama ya fue fragmentado. La fragmentación es el proceso de tomar un solo datagrama IP y dividirlo en
    varios datagramas más pequeños. Si bien la mayoría de las redes operan con configuraciones similares en términos de
    cuál es el tamaño permitido para un datagrama IP, en algunas ocasiones podría haber configuraciones diferentes. Si
    un datagrama tiene que cruzar desde una red que permite un datagrama de mayor tamaño a otra red con un menor tamaño
    de datagrama, se deberá fragmentar el datagrama en otros más pequeños.<br>
    • El campo <strong>Desplazamiento de fragmentación</strong> contiene valores utilizados por el extremo receptor
    para tomar todas las partes de un paquete fragmentado y reunirlos en el orden correcto.<br>
    • El campo <strong>Tiempo de vida</strong> o <strong>TTL</strong> es un campo de 8 bits que indica cuántos saltos
    de router puede cruzar un datagrama antes de ser desechado. Cada vez que un datagrama llega a un nuevo router,
    dicho router disminuye el campo TTL en una unidad. Una vez que este valor llega a cero, el router sabe que no tiene
    que reenviar más el datagrama. El objetivo principal de este campo es asegurarse de que cuando haya un error de
    configuración en el enrutamiento que cause un bucle sin fin, los datagramas no se queden toda la eternidad tratando
    de llegar a su destino.<br>
    • El campo <strong>Protocolo</strong> es otro campo de 8 bits que contiene datos sobre qué protocolo de capa de
    transporte se está usando. Los protocolos de capa de transporte más comunes son TCP y UDP.<br>
    • El campo <strong>Suma de verificación de encabezado</strong> es una suma de verificación del contenido de todo el
    encabezado del datagrama IP. Funciona de manera muy similar al campo de suma de verificación de Ethernet que
    analizamos en el último módulo. Dado que el campo TTL debe recalcularse en cada router que toque un datagrama, el
    campo Suma de verificación también cambia obligatoriamente.<br>
    • Los campos de las direcciones <strong>IP de origen</strong> y <strong>de destino</strong>. Recuerda que una
    dirección IP es un número de 32 bits, por lo que estos campos tengan una longitud de 32 bits.<br>
    • El campo <strong>Opciones de IP</strong> es un campo opcional y se utiliza para establecer características
    especiales para datagramas usados principalmente con fines de prueba.<br>
    • Suele ir seguido de un <strong>campo de relleno</strong>. Dado que el campo Opciones de IP es opcional y de
    longitud variable, el campo de relleno es solo una serie de ceros utilizados para asegurarse de que el encabezado
    tenga el tamaño total indicado.<br>
    <br>
    Quizás recuerdes que en nuestro desglose de una trama de Ethernet mencionamos una sección que describimos como la
    sección de carga útil de datos. Un datagrama IP es exactamente esto, y este proceso se conoce como
    <strong>encapsulación</strong>. Todo el contenido de un datagrama IP se encapsula como la carga útil de una trama
    Ethernet. Tal vez hayas notado que nuestro datagrama IP también tiene una sección de carga útil. El contenido de
    esta carga útil es la totalidad de un paquete TCP o UDP.<br>
    <img src="images/2-3.png" alt="images/2-3.png"><br>
    <br>
    <h3><strong>Clases de direcciones IP</strong></h3><br>
    Las direcciones IP se pueden dividir en dos secciones, la ID de red y la ID de host. Hay tres tipos principales de
    clases de dirección. Clase A, clase B, y clase C. Las direcciones de <strong>clase A</strong> son aquellas en los
    que se utiliza el primer octeto para la ID de red, y los tres últimos se utilizan para la ID de host.<br>
    Las direcciones de <strong>clase B</strong> son donde se utilizan los dos primeros octetos para la ID de red, y los
    dos segundos se utilizan para la ID de host.<br>
    Las direcciones de <strong>clase C</strong> son aquellas donde se utilizan los primeros tres octetos para la ID de
    red y solo se utiliza el octeto final para la ID de host.<br>
    Cada clase de dirección representa una red de tamaño muy diferente. Por ejemplo, dado que una red de clase A tiene
    un total de 24 bits de espacio de ID de host, esto da un total de 2 a la 24, o 16,777,216 direcciones individuales.
    Una red de clase C que solo tiene ocho bits de espacio de ID de host esto da como resultado 2 a la octava, o 256
    direcciones.<br>
    Si el primer bit de una dirección IP es un 0, pertenece a una red de clase A; si los primeros bits son 1, 0,
    pertenece a una red de clase B. Por último, si los primeros bits son 1, 1, 0, pertenece a una red de clase C.<br>
    Cada octeto en una dirección IP tiene ocho bits, lo que significa que cada octeto puede tomar un valor entre 0 y
    255.<br>
    Si el primer bit tiene que ser un 0, como lo es con las direcciones de clase A, los valores posibles para el primer
    octeto son de 0 a 127. Esto significa que cualquier dirección IP con un primer octeto con uno de esos valores es
    una dirección de clase A.<br>
    Las direcciones de clase B están restringidas a las que comienzan con un valor del primer octeto de 128 a 191, y
    las direcciones de clase C comienzan con un valor del primer octeto de 192 a 223.<br>
    Las direcciones de clase D siempre comienzan con los bits 1110, y se utilizan para multidifusión, que es cómo un
    solo datagrama de IP se puede enviar a una red entera a la vez. Estas direcciones comienzan con valores decimales
    entre 224 y 239.<br>
    Por último, las direcciones de clase E conforman todas las direcciones IP restantes, pero no están asignadas y solo
    se utilizan con fines de prueba.<br>
    <img src="images/2-4.png" alt="images/2-4.png"><br>
    Este sistema de clases fue reemplazado en su mayoría por un sistema conocido como <strong>CIDR</strong> o
    "enrutamiento entre dominios sin clases".<br>
    <br>
    <h3><strong>Protocolo de resolución de direcciones(ARP)</strong></h3><br>
    Ahora entiendes cómo se utilizan ambas direcciones MAC en el enlace de datos y cómo se utilizan las direcciones IP
    en la capa de red.<br>
    <strong>ARP</strong> es un protocolo utilizado para descubrir la dirección de hardware de un nodo con una dirección
    IP determinada. Una vez que un datagrama IP se ha formado completamente necesita ser encapsulado dentro de una
    trama Ethernet. Esto significa que el dispositivo transmisor necesita una dirección MAC de destino para completar
    el encabezado de la trama Ethernet. Casi todos los dispositivos conectados a la red conservan la tabla ARP local.
    La tabla ARP es solo una lista de direcciones IP y las direcciones MAC asociadas con ellas.<br>
    Digamos que queremos enviar algunos datos a la dirección IP 10.20.30.40. Puede ocurrir que este destino no tenga
    una entrada en la tabla ARP. Cuando esto sucede, el nodo que quiere enviar datos <strong>envía un mensaje de
    difusión ARP</strong> a la dirección de transmisión MAC que son todos los EFH. Este tipo de mensajes de difusión
    ARP son entregados a todas las computadoras de la red local. Una vez la interfaz de red a la que se le ha asignado
    la IP 10.20.30.40 recibe esta transmisión ARP, esta envía lo que se conoce como una respuesta ARP. Este mensaje de
    respuesta contendrá la dirección MAC para la interfaz de red en cuestión. Ahora la computadora transmisora sabe qué
    dirección MAC poner en el campo de dirección de hardware de destino y así la trama Ethernet está lista para la
    entrega. También es probable que almacene esta dirección IP en su tabla ARP local para que no tenga que enviar una
    transmisión ARP la próxima vez que necesite comunicarse con esta IP. Las entradas de la tabla ARP generalmente
    caducan después de un corto período de tiempo para garantizar que los cambios en la red se tengan en cuenta.<br>
    <br>
    <h3><strong>Subnetting</strong></h3><br>
    La subdivisión de redes es el proceso de tomar una red grande y dividirla en redes individuales más pequeñas
    llamadas subredes. Las clases de direcciones nos dan una manera de dividir el espacio global total de IP en redes
    discretas. Un router de puerta de enlace sirve específicamente como la ruta de entrada y salida de una determinada
    red. Puedes comparar esto con los routers principales de Internet, los que quizás solo pueden comunicarse con otros
    routers principales. Todo esto tiene sentido hasta que recuerdas que una sola red de clase A contiene 16,777,216 IP
    individuales. Con las subredes, puedes dividir una gran red en muchas más pequeñas. Todas estas subredes
    individuales tendrán sus propios routers de puerta de enlace que sirven como puntos de entrada y salida para cada
    subred.<br>
    <br>
    <h3><strong>Máscaras de subred</strong></h3><br>
    Hasta ahora, aprendimos acerca de las ID de red, que se utilizan para identificar redes, y las ID de host, que se
    utilizan para identificar hosts individuales. Si queremos dividir un poco más las cosas, y así es, tendremos que
    introducir un tercer concepto, la ID de subred. Algunos bits que normalmente comprenderían la ID de host se
    utilizan realmente para la ID de subred. Con estas tres ID que se pueden representar con una sola dirección IP,
    ahora tenemos un solo número de 32 bits que puede distribuirse con precisión a través de muchas redes
    diferentes.<br>
    A nivel de Internet, los routers centrales solo toman en cuenta la ID de red y lo utilizan para enviar el datagrama
    al router de la puerta de enlace correspondiente a esa red. Ese router de puerta de enlace tiene información
    adicional que puede utilizarse para enviar dicho datagrama al equipo de destino o al siguiente router para llegar a
    su destino. Finalmente, el último router usa la ID de host para entregar el datagrama al equipo destinatario
    deseado. Las ID de subred se calculan a través de lo que se conoce como una máscara de subred. Al igual que una
    dirección IP, las máscaras de subred son números de 32 bits que se escriben, por lo general, como cuatro octetos en
    sistema decimal.<br>
    Una <strong>máscara de subred es un número binario que tiene dos secciones</strong>. La parte inicial, que es la
    máscara misma, es una cadena de unos. Despúes vienen solo ceros. La máscara de subred, que es la parte del número
    con todos los unos, nos dice qué podemos ignorar cuando calculamos una ID de host. La parte con todos los ceros nos
    dice qué debemos mantener. El propósito de la máscara, o la parte que son solo unos, es indicarle a un router qué
    parte de una dirección IP es la ID de subred. Para 9.100.100.100, una red de clase A, sabemos que este es solo el
    primer octeto. Esto nos deja con los últimos tres octetos. Tomemos esos octetos restantes e imaginémolos junto a la
    máscara de subred en forma binaria. Los números en los octetos restantes que tienen un uno correspondiente en la
    máscara de subred constituyen <strong>la ID de subred</strong>. Los números en los octetos restantes que tienen un
    cero correspondiente constituyen <strong>la ID del host</strong>. El tamaño de una subred está completamente
    definido por su máscara de subred.<br>
    Así, por ejemplo, con la máscara de subred de 255.255.255.0, sabemos que solo el último octeto está disponible para
    las ID de host, independientemente del tamaño de la red y de las ID de subred. Un solo número de ocho bits puede
    representar 256 números diferentes. Incluso si se entiende que dos direcciones no están disponibles para la
    asignación, aún dirías que ocho bits de espacio de ID de host tienen 256 direcciones disponibles, no 254.<br>
    La máscara de subred 255.255.255.224 se traduciría a 27 unos seguidos de 5 ceros. Esto significa que tenemos cinco
    bits de espacio de ID de host o un total de 32 direcciones. Debido a que esa máscara de subred representa 27 unos
    seguidos de 5 ceros, una forma más rápida de hacer referencia a esto es con la notación /27. La IP completa y la
    máscara de subred se pueden escribir ahora como 9.100.100.100/27.<br>
    <img src="images/2-5.png" alt="images/2-5.png"><br>
    <img src="images/2-6.png" alt="images/2-6.png"><br>
    A una compañía se le ha asignado la red 200.3.25.0. Es una red de clase C, lo cual significa que puede disponer de
    254 direcciones diferentes (la primera y la última dirección están reservadas, no son utilizables). Si no se divide
    la red en subredes, la máscara de subred será 255.255.255.0 (o /24).<br>
    La compañía decide dividir esta red en 8 subredes, con lo cual, la máscara de subred tiene que recorrer tres bits
    más, se "toman prestados" tres bits de la porción que corresponde al host. Eso resulta en una máscara de subred
    /27, en binario 11111111.11111111.11111111.11100000, o en decimal punteado, 255.255.255.224. Cada subred tendrá
    (2^5)=32 direcciones posibles; pero solo tendrá (2^5)-2=32-2=30 direcciones asignables a los hosts puesto que la
    primera dirección (con todos los bits de host a 0) identifica a subred y la última dirección de cada subred (todos
    los bits de host a 1) se reserva para el broadcast.<br>
    Para calcular el total de subredes se debe realizar (2^3)=8, ya que hemos tomado 3 bits prestados a la dirección de
    host.<br>
    La subred uno tiene la dirección de subred 200.3.25.0; las direcciones utilizables son 200.3.25.1 - 200.3.25.30 y
    su dirección de broadcast es la 200.3.25.31, aunque esta subred, al ser la primera, no se puede usar.<br>
    La subred dos tiene la dirección de subred 200.3.25.32; las direcciones utilizables son 200.3.25.33 - 200.3.25.62 y
    su dirección de broadcast es la 200.3.25.63, sería la primera subred valida o asignable a maquinas.<br>
    Y así sucesivamente; de cada subred a la siguiente, el último byte aumenta en 32. Dependiendo del tipo de máscara
    de subred utilizado.<br>
    <br>
    <h3><strong>Matemáticas Binarias Básicas</strong></h3><br>
    Debido a restricciones de funcionamiento de las puertas lógicas dentro de un procesador, es mucho más fácil para
    las computadoras pensar las cosas solo en términos de 0 y 1. Esto también se conoce como sistema binario o de base
    2. La suma binaria es incluso más simple que en cualquier otra base, ya que solo tienes cuatro situaciones
    posibles. 0 + 0 = 0, al igual que en decimal. 0 + 1 = 1, y 1 + 0 = 1, también deberían parecerte familiares. 1 + 1
    = 10, se ve un poco diferente.<br>
    La suma es lo que se conoce como un operador y hay muchos operadores que las computadoras usan para hacer cálculos.
    Dos de los operadores más importantes son OR y AND. En lógica computacional, un 1 representa verdadero y un 0
    representa falso.<br>
    La ecuación básica es X OR Y = Z. Que podría leerse como "si X o Y son verdaderos, entonces Z es verdadero; de lo
    contrario, es falso". Por lo tanto, 1 OR 0 = 1, pero 0 OR 0 = 0.<br>
    El operador AND funciona como suena: devuelve "verdadero" si ambos valores son verdaderos. Por lo tanto, 1 AND 1 =
    1, pero 1 AND 0 = 0 y 0 AND 0 = 0.<br>
    Una máscara de subred es una forma en que una computadora puede usar operadores AND para determinar si existe una
    dirección IP en la misma red. Esto significa que la porción de ID del host también se conoce porque será todo lo
    que sobre. Una vez que coloques una encima de la otra y apliques un operador AND binario en cada columna, notarás
    que el resultado es la porción de ID de red y de ID de subred de nuestra dirección IP. La computadora que acaba de
    realizar esta operación ahora puede comparar los resultados con su propia ID de red para determinar si la dirección
    está en la misma red o en otra diferente.<br>
    <br>
    <h3><strong>CIDR (Classless Inter-Domain Routing)</strong></h3><br>
    Las clases de direcciones fueron el primer intento de dividir el espacio IP global de Internet. La división en
    subredes se introdujo cuando fue evidente que las clases de direcciones en sí mismas no eran tan eficientes para
    mantener todo organizado. Con las subredes tradicionales y las clases de dirección, la ID de la red siempre es de 8
    bits para redes de clase A, 16 bits para redes de clase B, o 24 bits para redes de clase C. Esto significa que solo
    podría haber 254 redes de clase C, pero también significa que hay 2,970,152 redes de clase C potenciales.<br>
    CIDR es un enfoque aún más flexible para describir bloques de direcciones IP. Expande el concepto de división en
    subredes: usa máscaras de subred para demarcar redes. Demarcar algo significa poner de relieve algo. Al hablar de
    redes de computadoras, a menudo oirás el término "punto de demarcación" para describir dónde termina una red o
    sistema y comienza otro.<br>
    En nuestro modelo anterior, confiamos en una ID de red, una ID de subred y una ID de host para entregar un
    datagrama IP a la ubicación correcta. Con CIDR, la ID de red y la ID de subred se combinan en una sola. Con CIDR
    obtenemos esta notación de barra abreviada sobre la división en subredes. Esta notación de barra también se conoce
    como notación CIDR. CIDR básicamente abandona por completo el concepto de clases de dirección, lo que permite que
    una dirección se defina con solo dos ID individuales. En un mundo donde ya no nos importa la clase de direcciones
    de esta IP, todo lo que necesitamos es lo que la máscara de red nos diga para determinar la ID de la red. Esta
    práctica no solo simplifica cómo los routers y otros dispositivos de red deben pensar en partes de una dirección
    IP, sino también permite tamaños de red más arbitrarios. CIDR permite que las propias redes tengan diferentes
    tamaños.<br>
    Si una empresa necesitaba más direcciones de las que una sola clase C podría proporcionarle, necesitaba una segunda
    clase completa C. Con CIDR, podrían combinar ese espacio de direcciones en una porción contigua con una máscara de
    red de /23 o 255.255.254.0. Esto significa que los routers ahora solo necesitan conocer una entrada en su tabla de
    enrutamiento, en lugar de dos, para entregar tráfico a estas direcciones.<br>
    Dado que la longitud de una dirección IPv4 es fija, de 32 bits, un prefijo CIDR de N-bits deja 32 − N sin encajar,
    y hay 2^( 32 − N ) combinaciones posibles con los bits restantes. Esto quiere decir que 2 ^( 32 − N ) direcciones
    IPv4 encajan en un prefijo CIDR de N-bits.<br>
    Si una red /24, 32-24=8, tiene 2 a la octava (2Λ8) o 256 hosts potenciales, en realidad solo tienes 256 - 2, o 254
    IP disponibles para asignar. Si necesitas dos redes de este tamaño, tienes un total de 254 + 254, o 508 hosts. Una
    sola red única /23, 32-23=9, es dos a la novena (2Λ9) o 512. 512 - 2, 510 hosts.<br>
    <a href=
    "https://es.wikipedia.org/wiki/Classless_Inter-Domain_Routing">https://es.wikipedia.org/wiki/Classless_Inter-Domain_Routing</a><br>

    <br>
    <h2><strong>Enrutamiento</strong></h2><br>
    <p align="center"><img src="images/home.png" height="22" width="22"> <a href="index.html">Índice</a></p>
</body>
</html>
