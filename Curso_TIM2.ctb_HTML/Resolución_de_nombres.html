<!DOCTYPE html>
<html>
<head>
    <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.2.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Resolución de nombres</title>
    <meta name="generator" content="CherryTree">
    <link rel="stylesheet" href="styles.css" type="text/css">
</head>
<body>
    <h2><strong>Resolución de nombres</strong></h2><br>
    <br>
    <h3><strong>¿Por qué necesitamos DNS?</strong></h3><br>
    DNS, o <strong>sistema de nombres de dominio</strong>. DNS es un servicio de red global y altamente distribuido que
    resuelve strings de letras en una dirección IP para ti. La dirección IP para un nombre de dominio también puede
    cambiar todo el tiempo por muchas razones diferentes. Un nombre de dominio es solo el término que usamos para algo
    que el DNS puede resolver. Mediante el uso de DNS, una organización puede cambiar a qué IP se resuelve un nombre de
    dominio, y el usuario final nunca lo sabría. El DNS no solo hace más fácil que los humanos podamos recordar cómo
    llegar a un sitio web, también permite que ocurran cambios administrativos detrás de escena sin que un usuario
    final deba cambiar su comportamiento.<br>
    Las direcciones IP pueden resolver diferentes cosas según en qué parte del mundo estés. En casi todas las
    situaciones, va a ser más rápido transmitir una cierta cantidad de datos entre lugares que están geográficamente
    cerca entre sí. Si eres una empresa web global, querrás que personas de todo el mundo tengan una gran experiencia
    al acceder a tu sitio web. Así que en lugar de mantener todos tus servidores web en un solo lugar, podrías
    distribuirlos por centros de datos en todo el mundo. Debido a su estructura global, DNS permite a las
    organizaciones decidir, si estás en la región, resolver el nombre de dominio a esta IP. Si estás en esta otra
    región, resolver este dominio a esta otra IP.<br>
    <br>
    <h3><strong>Los muchos pasos de la resolución de nombres</strong></h3><br>
    En su forma más básica, DNS es un sistema que convierte nombres de dominio en direcciones IP. Este proceso de
    utilizar DNS para convertir un nombre de dominio en una dirección IP se conoce como <strong>resolución de
    nombres</strong>.<br>
    Lo primero que es importante saber es que los servidores DNS son una de las cosas que deben configurarse
    específicamente en un nodo en una red. Para que una computadora funcione en una red moderna, tiene que tener cierta
    cantidad de cosas configuradas. Recuerda que las direcciones MAC están físicamente vinculadas a piezas específicas
    de hardware. Pero también vimos que la dirección IP, la máscara de subred, y la puerta de enlace para un host debe
    estar específicamente configuradas. Un servidor DNS es la cuarta y última parte de la configuración de la red
    moderna estándar. Estas son casi siempre las cuatro cosas que deben configurarse para que un host funcione en una
    red de la forma esperada. Una computadora puede funcionar bien sin DNS o sin un servidor DNS configurado, pero esto
    dificulta las cosas para cualquier humano que pueda estar usando esa computadora.<br>
    Hay cinco tipos principales de servidores DNS:<br>
    • servidores de almacenamiento en caché de nombres<br>
    • servidores de nombres recursivos<br>
    • servidores de nombres raíz<br>
    • servidores de nombres TLD<br>
    • servidores de nombres autoritativos<br>
    Un servidor DNS dado puede cumplir muchas de estas funciones a la vez.<br>
    Los servidores de almacenamiento en caché y de nombres recursivos son proporcionados generalmente por un ISP o tu
    red local. Su propósito es almacenar las búsquedas de nombres de dominio durante un cierto tiempo.<br>
    Los servidores de nombres recursivos son los que realizan solicitudes de resolución de DNS completas. En la mayoría
    de los casos, tu servidor de nombres local realizará las tareas de ambos, pero definitivamente es posible que un
    servidor de nombres sea solo de almacenamiento en caché o solo recursivo.<br>
    Todos los nombres de dominio en el sistema DNS global tienen un TTL o tiempo de vida. Este es un valor en segundos
    que el propietario de un nombre de dominio puede configurar para indicar cuánto tiempo se permite que un servidor
    de nombres almacene una entrada en la memoria caché antes de que deba descartarla y volver a realizar una
    resolución completa. Podrías encontrar nombres de dominios con TTL muy largos, lo que significa que puede llevar la
    duración completa de un TTL para que Internet en su totalidad conozca un cambio en el registro de DNS.<br>
    <br>
    Ahora, veamos que sucede cuando tu servidor recursivo local necesita realizar una resolución recursiva
    completa:<br>
    El primer paso es siempre <strong>contactar con un servidor llamado raíz</strong>; hay 13 servidores raíz de
    nombres en total y son responsables de dirigir las consultas hacia el servidor de nombres TLD apropiado. En el
    pasado, estos 13 servidores raíz se distribuían en regiones geográficas muy específicas, pero hoy en día, se
    distribuyen principalmente en todo el mundo a través de la difusión por proximidad (Anycast).<br>
    <strong>Anycast</strong> es una técnica que se utiliza para enrutar el tráfico a diferentes destinos dependiendo de
    factores como la ubicación, la congestión o el estado del enlace. Con Anycast, una computadora puede enviar un
    datagrama a una IP específica, pero podría verlo enrutado a uno de los muchos destinos reales diferentes
    dependiendo de algunos factores. Esto también debería dejar claro que, en realidad, ya no hay solo 13 servidores de
    nombres de rutas físicas. Es mejor pensar en ellos como 13 autoridades que ofrecen las búsquedas de nombre de ruta
    como un servicio.<br>
    Los servidores raíz responderán a una búsqueda de DNS con el servidor de nombres TLD que se debe consultar.
    <strong>TLD</strong> significa <strong>dominio de nivel superior</strong> (Top Level Domain) y representa la parte
    superior del sistema jerárquico de resolución de nombres DNS. Un TLD es la última parte de cualquier nombre de
    dominio: tomando www.facebook.com como ejemplo, la porción ".com" debe considerarse el TLD.<br>
    Para cada TLD en existencia, hay un <strong>servidor de nombres TLD</strong>, pero al igual que con los servidores
    raíz, esto no significa que solo haya físicamente un servidor en cuestión. Es muy probable que sea una distribución
    global de servidores Anycast accesibles, responsables de cada TLD.<br>
    Los servidores de nombres TLD responderán de nuevo con un redireccionamiento, esta vez informando a la computadora
    que realiza la búsqueda de nombres con qué servidor de nombres autoritativo debe contactarse. Los servidores de
    nombres autoritativos son responsables de las dos últimas partes de cualquier nombre de dominio, que es la
    resolución en la que una sola organización puede ser responsable de las búsquedas de DNS.<br>
    Por último, la búsqueda de DNS podría redirigirse al <strong>servidor autoritativo</strong> que, en última
    instancia, proporcionaría la IP real del servidor en cuestión.<br>
    Esta jerarquía estricta es muy importante para la estabilidad de Internet, ya que garantiza que todas las
    resoluciones completas de DNS pasan por una serie de búsquedas estrictamente reguladas y controladas para obtener
    las respuestas correctas, y es la mejor manera de proteger contra actores maliciosos que redireccionan el
    tráfico.<br>
    Tu computadora enviará ciegamente el tráfico a cualquier IP que se le indique. Al usar un sistema jerárquico
    controlado por entidades confiables en la forma en que lo hace el DNS, podemos garantizar mejor que las respuestas
    a las búsquedas de DNS sean precisas.<br>
    Ahora que ves cuántos pasos están involucrados, tiene sentido que confiemos en que nuestros servidores de nombres
    locales almacenen las búsquedas de DNS en caché. Es para no tener que hacer una búsqueda de ruta completa para cada
    conexión TCP. De hecho, tu computadora local, desde tu teléfono a un equipo de escritorio, generalmente también
    tendrá su propia memoria caché DNS temporal. De esa manera, tampoco tiene que molestar a su servidor de nombres
    local para cada conexión TCP.<br>
    <br>
    <h3><strong>DNS y UDP</strong></h3><br>
    DNS es un gran ejemplo de un servicio de capa de aplicación que usa UDP para la capa de transporte en lugar de TCP.
    Recuerda que la mayor diferencia entre TCP y UDP es que UDP no tiene conexión. Esto significa que no hay
    configuración ni cierre de una conexión. En general, se necesita transmitir mucho menos tráfico. Una sola solicitud
    de DNS y su respuesta pueden caber dentro de un solo datagrama UDP, por lo que es un candidato ideal para un
    protocolo sin conexión.<br>
    También vale la pena señalar que DNS puede generar mucho tráfico. Es cierto que las copias en caché de las entradas
    DNS se guardan en máquinas locales y en servidores de nombres de caché, pero también es cierto que si se necesita
    procesar una resolución completa, estamos hablando de mucho más tráfico.<br>
    Esto nos lleva a un total de 44 paquetes como mínimo para que una solicitud de DNS completamente recursiva se
    complete a través de TCP. Recuerda que el tráfico de DNS es solo un precursor del tráfico real. Una computadora
    casi siempre realiza una búsqueda de DNS porque necesita saber la IP del nombre de dominio para enviar datos
    adicionales.<br>
    Ahora, vamos a ver cómo sería esto con UDP, esto nos lleva a un total final de 8 paquetes.<br>
    Es el ejemplo perfecto de por qué existen protocolos como UDP además de TCP, que es mucho más sólido.<br>
    Quizás te preguntes cómo entra en juego la recuperación de errores aquí, ya que UDP no tiene esa función. El agente
    de resolución de DNS vuelve a preguntar si no recibe una respuesta. Básicamente, la misma funcionalidad que TCP
    proporciona en la capa de transporte es proporcionada por DNS en la capa de aplicación de la manera más simple. Un
    servidor DNS nunca debe preocuparse por otra cosa que responder a las búsquedas entrantes, y un agente de
    resolución de DNS solo debe realizar búsquedas y repetirlas si no tiene éxito.<br>
    De hecho, DNS sobre TCP existe y también se usa en todas partes. Como la Web se ha vuelto más compleja, ya no todas
    las respuestas de búsqueda de DNS pueden caber en un solo datagrama UDP. En estas situaciones, un servidor de
    nombres DNS responderá con un paquete que explica que la respuesta es demasiado grande. El cliente DNS establecerá
    una conexión TCP para realizar la búsqueda.<br>
    <br>
    <h2><strong>Resolución de nombres en la práctica</strong></h2><br>
    <h3><strong>Tipos de registro de recursos</strong></h3><br>
    En la práctica, DNS trabaja con un conjunto de tipos de registro de recursos definidos. Esto permite que se
    realicen diferentes tipos de resoluciones de DNS. Hay docenas de diferentes tipos de registros de recursos
    definidos, pero muchos de ellos solo cumplen funciones muy especializadas.<br>
    El registro de recursos más común se conoce como "<strong>registro A</strong>". Un registro A se utiliza para
    apuntar un cierto nombre de dominio a una cierta dirección IPv4. En nuestros análisis anteriores sobre DNS,
    supusimos que el agente de resolución de DNS solicitaba el registro A para un nombre de dominio. En su uso más
    básico, se configura un solo registro A para un solo nombre de dominio. Pero, un solo nombre de dominio también
    puede tener varios registros A.<br>
    Esto da cuenta de una técnica conocida como <strong>Round Robin</strong> de DNS que se utiliza para equilibrar el
    tráfico entre múltiples IP. Round robin es un concepto que consiste en iterar una lista de artículos uno por uno de
    forma ordenada.<br>
    Otro tipo de registro de recursos cada vez más y más popular es el registro <strong>Quad A</strong>. Un registro
    Quad A es muy similar a un registro A, salvo por que devuelve una dirección IPv6 en lugar de una dirección
    IPv4.<br>
    Un registro <strong>CNAME</strong> se usa para redirigir el tráfico de un dominio a otro. Al configurar un registro
    CNAME para microsoft.com que resuelve en www.microsoft.com, el cliente de resolución sabrá entonces realizar otro
    intento de resolución, esta vez para www.microsoft.com, y luego usar la IP devuelta por ese segundo intento. Los
    CNAME son realmente útiles porque te garantizan que apenas debes cambiar la dirección IP canónica de un servidor en
    un solo lugar.<br>
    <strong>MX</strong> significa intercambio de correo y este registro de recursos se usa para entregar el correo
    electrónico al servidor correcto. Muchas compañías ejecutan sus servidores web y de correo en diferentes máquinas
    con diferentes IP, por lo que el registro MX hace que sea fácil garantizar que el correo electrónico se entregue al
    servidor de correo de una empresa mientras que otro tipo de tráfico como el tráfico web se entregará a su servidor
    web.<br>
    <strong>SRV</strong> significa registro de servicio, y se usa para definir la ubicación de varios servicios
    específicos. Cumple la misma función que el tipo de registro de recursos MX, excepto por una cosa: mientras que MX
    es solo para servicios de correo, un registro SRV se puede definir para que devuelva los detalles de muchos tipos
    de servicios diferentes. Por ejemplo, los registros SRV se usan a menudo para devolver los registros de servicios
    como CalDAV, que cuenta con un servicio de calendario y programación.<br>
    <strong>TXT</strong> significa texto y originalmente su uso previsto era solamente para asociar algún texto
    descriptivo con un nombre de dominio para consumo humano. La idea era que podrías dejar notas o mensajes que los
    humanos pudieran detectar y leer para obtener más información sobre los detalles arbitrarios de tu red. Este
    registro de texto se utiliza a menudo para comunicar preferencias de configuración sobre los servicios de red cuyo
    manejo confías a otras organizaciones para tu dominio.<br>
    Hay muchos otros tipos de registros de recursos DNS en uso común, como los registros NS o SOA que se usan para
    definir la información de autoridad sobre las zonas DNS.<br>
    <br>
    <h3><strong>Anatomía de un nombre de dominio</strong></h3><br>
    Un nombre de dominio dado tiene tres partes principales y todas ellas cumplen funciones específicas. Tomemos el
    nombre de dominio www.google.com. Deberíamos poder detectar fácilmente las tres partes aquí ya que están separadas
    entre sí por un punto. Son "www", "google" y "com".<br>
    A la última parte de un nombre de dominio se la conoce como <strong>TLD</strong> o <strong>dominio de nivel
    superior</strong>. En este caso es la parte ".com" del nombre de dominio. Sólo hay un cierto número restringido de
    TLD definidos disponibles, aunque ese número creció mucho en los últimos años. Los TLD más comunes son aquellos con
    los que probablemente ya estás familiarizado: .com, .net, .edu y así sucesivamente. Probablemente también has visto
    algunos TLD específicos de países, como .de para Alemania o .cn para China. La administración y definición de los
    TLD la maneja una organización sin fines de lucro conocida como ICANN, o Corporación de Internet para la Asignación
    de Nombres y Números. La ICANN es una organización asociada de la IANA y juntas ayudan a definir y controlar los
    espacios IP globales junto con el sistema DNS global.<br>
    Un <strong>dominio</strong> es el nombre que se usa comúnmente para referirse a la segunda parte de un nombre de
    dominio, lo que sería "google" en nuestro ejemplo. Los dominios se utilizan para demarcar dónde el control se mueve
    desde un servidor de nombres TLD a un servidor de nombres autoritativo. Esto queda típicamente bajo el control de
    una organización independiente o de alguien fuera de la ICANN. Los dominios pueden ser registrados y elegidos por
    cualquier individuo o empresa, pero todos deben terminar en uno de los TLD predefinidos.<br>
    La porción que contiene el "www" se conoce como <strong>subdominio</strong>, a veces llamada nombre de host si se
    asignó a un solo host. Al combinar todas estas partes, tienes lo que se conoce como nombre de dominio completo o
    FQDN (fully qualified domain name). Si bien cuesta dinero registrar oficialmente un dominio con un registrador, los
    subdominios pueden ser elegidos y asignados libremente por cualquiera que controle dicho dominio registrado. Un
    registrador es solo una empresa que tiene un acuerdo con la ICANN para vender nombres de dominio no
    registrados.<br>
    DNS puede admitir técnicamente hasta 127 niveles de dominio en total para un solo nombre de dominio completo. Cada
    sección individual solo puede tener 63 caracteres de largo y un FQDN completo se limita a un total de 255
    caracteres.<br>
    <br>
    <h3><strong>Zonas DNS</strong></h3><br>
    Un servidor de nombres autoritativo es en verdad responsable de una zona DNS específica. Las zonas DNS son un
    concepto jerárquico. Los servidores de nombres raíz que vimos anteriormente son responsables de la zona raíz. Cada
    servidor de nombres TLD es responsable de la zona que cubre su TLD específico, y lo que llamamos servidores de
    nombres autoritativos son responsables de algunas zonas subyacentes aún más detalladas. Los servidores de nombres
    raíz y TLD también son en realidad servidores de nombres autoritativos. Es solo que las zonas para las que están
    acreditados son casos especiales.<br>
    Cabe señalar que las zonas no se superponen. Por ejemplo, la autoridad administrativa del servidor de nombres TLD
    para el TLD ".com" no abarca el dominio google.com. En cambio, finaliza en el servidor autoritativo responsable de
    google.com.<br>
    El propósito de las zonas DNS es permitir un control más sencillo sobre múltiples niveles de un dominio. A medida
    que aumenta el número de registros de recursos en un solo dominio, se vuelve un dolor de cabeza administrarlos a
    todos. Los administradores de red pueden aliviar este dolor dividiendo sus configuraciones en múltiples zonas.<br>
    Imaginemos una gran empresa propietaria del dominio largecompany.com. Esta empresa tiene oficinas en Los Ángeles,
    París y Shanghái, muy cosmopolita. Digamos que cada oficina tiene alrededor de 200 personas con su propio equipo de
    escritorio con un nombre único. Estos serían 600 registros A para rastrear si todo estuviera configurado como una
    sola zona. Lo que la empresa podría hacer, en cambio, es dividir cada oficina en su propia zona. Ahora, podríamos
    tener la.largecompany.com, pa.largecompany.com y sh.largecompany.com como subdominios, cada uno con sus propias
    zonas DNS. Ahora se necesitaría un total de cuatro servidores de nombres autoritativos para la configuración, uno
    para largecompany.com y uno para cada uno de los subdominios.<br>
    Las zonas se configuran a través de lo que se conoce como archivos de zona, archivos de configuración simple que
    declaran todos los registros de recursos para una zona en particular. Así que un archivo de zona tiene que contener
    una SOA, o declaración de registro de recursos de inicio de autoridad. Este registro SOA declara la zona y el
    nombre del servidor de nombres que tiene autoridad en ella. Junto con el registro SOA, por lo general encontrarás
    registros NS que indican otros servidores de nombres que también pueden ser responsables de esta zona.<br>
    Para simplificar, nos hemos referido a "servidor" en singular al analizar lo que es responsable de su zona, ya sea
    a nivel de raíz, TLD o dominio, pero a menudo van a haber múltiples servidores físicos con sus propios FQDN y
    direcciones IP involucradas. Tener varios servidores implementados para algo tan importante como DNS es bastante
    común.<br>
    Además de los registros SOA y NS, también encontrarás algunos o todos los demás tipos de registro de recursos que
    ya hemos visto, como A, Quad A y CNAME, junto con configuraciones como valores TTL predeterminados para los
    registros entregados por esta zona.<br>
    Así como los subdominios pueden tener muchas, muchas capas de profundidad, las zonas también se pueden configurar
    para hacer esto, pero al igual que con los subdominios, es raro ver zonas que vayan más allá de unos pocos
    niveles.<br>
    A veces, también verás lo que se conoce como archivos de zona de búsqueda inversa. Estos permiten a los agentes de
    resolución de DNS solicitar una IP y obtener el FQDN asociado a ella. Estos archivos son los mismos que los
    archivos de zona, salvo que en lugar de los registros A y Quad A, que resuelven nombres a direcciones IP,
    encontrarás principalmente declaraciones de registro de recursos de puntero. Como supones, un PTR o registro de
    puntero, resuelve una IP a un nombre.
    <p align="center"><img src="images/home.png" height="22" width="22"> <a href="index.html">Índice</a></p>
</body>
</html>
