<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Problemas de red</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css">
</head>
<body>
  <a name="h3-1" id="h3-1"></a>
  <h3><strong>Ping: Protocolo de mensajes de control de Internet</strong></h3>
  Cuando se produce un error de red, el dispositivo que lo detecta necesita alguna forma de comunicarlo al origen
  del tráfico en problemas. Podría ser que un router no sepa cómo enrutar a un destino o que un determinado puerto
  no esté disponible. Incluso podría ser que el TTL de un datagrama IP haya expirado y no se intenten más saltos
  de router. En todas estas situaciones y más, se usa el <strong>Protocolo de mensajes de control de
  Internet,</strong> o <strong>ICMP</strong>, para comunicar estos problemas. ICMP <em>es utilizado principalmente
  por routers o hosts remotos para comunicarle al origen de la transmisión que esta falló</em>.<br>
  La composición de un paquete ICMP es bastante simple. Tiene un encabezado con algunos campos y una sección de
  datos que el host usa para averiguar cuál de sus transmisiones generó el error.<br>
  • El primer campo es el <strong>campo de tipo</strong>, mide 8 bits y especifica qué tipo de mensaje se entrega.
  Algunos ejemplos son "destino inaccesible" o "tiempo excedido".<br>
  • Inmediatamente después viene el <strong>campo de código</strong>, que indica una razón más específica para el
  mensaje que solo el tipo. Por ejemplo, para el tipo "destino inaccesible", hay códigos individuales para cosas
  como red de destino inaccesible y puerto de destino inaccesible.<br>
  • Después de esto hay una <strong>suma de verificación</strong> de 16 bits que funciona como cualquier otro de
  los campos de suma de verificación que vimos.<br>
  • El siguiente es un campo de 32 bits con un nombre muy poco inspirado, "<strong>resto del encabezado</strong>".
  De todos modos, este campo lo usan opcionalmente algunos de los tipos y códigos específicos para enviar más
  datos.<br>
  • Después de esto viene la <strong>carga útil de datos</strong> para un paquete ICMP. El motivo por el que
  existe la carga útil de un paquete ICMP es para que el destinatario del mensaje sepa cuál de sus transmisiones
  hizo que se reportará el error. Contiene todo el encabezado IP y los primeros 8 bytes de la sección de carga
  útil de datos del paquete infractor.<br>
  ICMP no se desarrolló para interacción con los humanos, sino para que estos tipos de mensajes de error se puedan
  entregar automáticamente entre computadoras en red.<br>
  Pero, también hay una herramienta específica y dos tipos de mensajes que son muy útiles para los operadores
  humanos. Esta herramienta se llama <strong>ping</strong>. Ping te permite enviar un tipo especial de mensaje
  ICMP llamado <strong>solicitud de eco</strong> (<em>Echo Request</em>). Una solicitud de eco ICMP, básicamente,
  solo pregunta al destino: "¿Hola, estás ahí?". Si el destino está en funcionamiento y puede comunicarse en la
  red, devolverá un tipo de mensaje de <strong>respuesta de eco</strong> (<em>Echo Reply</em>) de ICMP.<br>
  En general, cada línea de la salida mostrará la dirección que envía la respuesta de eco ICMP y cuánto tardaron
  las comunicaciones de ida y vuelta. También tendrás el TTL restante y el tamaño del mensaje ICMP en bytes. Una
  vez que el comando termina, también se mostrarán algunas estadísticas como el porcentaje de paquetes
  transmitidos y recibidos, el tiempo promedio de ida y vuelta, y un par de otras cosas por el estilo. Ping admite
  una serie de marcas de línea de comando que te permiten cambiar su comportamiento, como qué cantidad de
  solicitudes de eco enviar, qué tamaño deben tener y con qué rapidez se las debe enviar.<br>
  <br>
  <a name="h3-2" id="h3-2"></a>
  <h3><strong>Traceroute</strong></h3>
  A veces, necesitas una manera de determinar en qué parte de la larga cadena de saltos de router están en verdad
  los problemas. <strong>Traceroute</strong>(tracepath) es una utilidad impresionante que te permite <em>descubrir las rutas
  entre dos nodos y te brinda información sobre cada salto en el camino</em>. Traceroute funciona a través de una
  técnica de manipulación inteligente del campo TTL a nivel de IP.<br>
  Anteriormente aprendimos que el valor del campo TTL se reduce de a una unidad por cada router que reenvía el
  paquete. Cuando el campo TTL llega a cero, el paquete se desecha y se envía un mensaje ICMP "Time Exceeded"
  (tiempo excedido) al servidor de origen. Traceroute usa el campo TTL configurándolo primero en 1 para el primer
  paquete, luego 2 para el segundo, 3 para el tercero y así sucesivamente. Mediante esta pequeña acción
  inteligente, traceroute se asegura de que el primer paquete enviado será descartado por el primer salto del
  router. Esto resulta en un mensaje ICMP de tiempo excedido. El segundo paquete llegará al segundo router, el
  tercer paquete llegará al tercero, y así sucesivamente. Esto continúa hasta que el paquete finalmente llega a
  destino. Para cada salto, traceroute enviará tres paquetes idénticos. En cada línea, verás el número del salto y
  el tiempo de ida y vuelta para los tres paquetes. También verás la IP del dispositivo en cada salto y un nombre
  de host si traceroute puede resolverlo.<br>
  En Linux y MacOS, traceroute envía paquetes UDP a puertos con números muy altos. En Windows, el comando tiene un
  nombre abreviado, <strong>tracert</strong>, y de manera predeterminada usa la solicitud de eco ICMP.<br>
  Dos herramientas más que son similares a traceroute son <strong>mtr</strong> en Linux y MacOS y
  <strong>pathping</strong> en Windows. Estas dos herramientas actúan como traceroutes de larga duración para que
  puedas ver mejor cómo cambian las cosas durante un período de tiempo. Mtr trabaja en tiempo real y actualizará
  continuamente su salida con todos los datos actuales en conjunto sobre el traceroute. Puedes comparar esto con
  el pathping, que se ejecuta durante 50 segundos y luego muestra los datos finales en conjunto a la vez.<br>
  <br>
  <a name="h3-3" id="h3-3"></a>
  <h3><strong>Prueba de conectividad de puerto</strong></h3>
  A veces, necesitas saber si las cosas funcionan en la capa de transporte. Para esto, hay dos herramientas
  poderosísimas a tu disposición: <strong>Netcat</strong> en Linux y Mac OS y <strong>Test-NetConnection</strong>
  en Windows. La herramienta Netcat se puede ejecutar a través del comando <em>nc</em>, <em>y tiene dos argumentos
  obligatorios, un host y un puerto.</em> Si la conexión falla, el comando finalizará. Si tiene éxito, verás un
  cursor que parpadea a la espera de más entradas. Si tienes verdadera curiosidad sobre el estado de un informe,
  puedes emitir el comando con una marca -Z, que significa Zero Input/Output Mode (modo cero de E/S). La marca -V,
  que significa Verbose (detallado), también es útil en esta situación.<br>
  En Windows, Test-NetConnection es un comando con cierta funcionalidad similar. Si ejecutas Test-NetConnection
  con solo un host especificado, de manera predeterminada usará una solicitud de eco ICMP, al igual que el
  programa de ping. Pero aparecerán muchos más datos, entre ellos, el protocolo de capa de enlace de datos en uso.
  Cuando emites Test-NetConnection con la marca -port, puedes pedirle que pruebe la conectividad a un puerto
  específico.<br>
  Netcat <a href="https://es.wikipedia.org/wiki/Netcat">https://es.wikipedia.org/wiki/Netcat</a><br>
  Test-NetConnection <a href=
  "https://docs.microsoft.com/en-us/powershell/module/nettcpip/test-netconnection?redirectedfrom=MSDN&amp;view=win10-ps">
  https://docs.microsoft.com/en-us/powershell/module/nettcpip/test-netconnection?redirectedfrom=MSDN&amp;view=win10-ps</a>
  <p align="center"><img src="images/home.png" height="22" width="22"> <a href="index.html">Índice</a></p>
</body>
</html>
