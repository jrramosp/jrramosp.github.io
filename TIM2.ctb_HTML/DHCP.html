<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>DHCP</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css">
</head>
<body>
  <a name="h3-1" id="h3-1"></a>
  <h3>Descripción general de DHCP</h3>
  Cada computadora en una red moderna basada en TCP/IP necesita tener al menos cuatro cosas configuradas
  específicamente:<br>
  • Una dirección IP<br>
  • la máscara de subred para la red local<br>
  • una puerta de enlace principal<br>
  • y un servidor de nombres<br>
  De estas cuatro cosas, tres son probablemente lo mismo en casi todos los nodos en la red: la máscara de subred,
  la puerta de enlace principal y el servidor DNS.<br>
  Pero el último elemento, una dirección IP, debe ser diferente en cada nodo único en la red. Eso podría requerir
  gran cantidad de trabajo de configuración complicado; es aquí donde <strong>DHCP</strong>, o <strong>Protocolo
  de configuración dinámica de hosts</strong>, entra en juego.<br>
  DHCP es un protocolo de <em>capa de aplicación</em> que automatiza el proceso de configuración de hosts en una
  red. Con DHCP, una máquina puede consultar un servidor DHCP cuando la computadora se conecta a la red y recibe
  toda la configuración de la red de una sola vez.<br>
  Cada computadora en una red requiere una IP para comunicaciones, pero muy pocas de ellas requieren una IP
  comúnmente conocida. Para los servidores o equipos de red en tu red, como tu router de puerta de enlace, una
  dirección IP estática y conocida, es bastante importante. Sin una IP estática configurada para un servidor DNS,
  sería difícil conectarse a él para diagnosticar cualquier problema en caso de mal funcionamiento. Pero para un
  montón de dispositivos cliente como equipos de escritorio o laptops, o incluso teléfonos móviles, solo importa
  que tengan una IP en la red correcta.<br>
  Con DHCP, puedes configurar un rango de direcciones IP que están reservadas para estos dispositivos cliente.
  Esto asegura que cualquiera de estos dispositivos pueda obtener una dirección IP cuando la necesite, y resuelve
  el problema de tener que mantener una lista de cada nodo en la red y su correspondiente IP.<br>
  DHCP puede operar en unas pocas formas estándar. La <strong>asignación dinámica</strong> de DHCP es la más común
  y funciona como la acabamos de describir. Se <em>reserva un rango de direcciones IP para dispositivos cliente y
  una de estas IP se libera a estos dispositivos cuando lo solicitan</em>. Bajo una asignación dinámica, la IP de
  una computadora podría ser diferente casi todas las veces que se conecta a la red.<br>
  La <strong>asignación automática</strong> es muy similar a la asignación dinámica en cuanto a que se reserva un
  rango de direcciones IP a fines de asignación. La principal diferencia aquí es que al servidor DHCP <em>se le
  pide que rastree qué direcciones IP se asignaron a ciertos dispositivos en el pasado</em>. Con esta información,
  el servidor DHCP asignará la misma IP a la misma máquina cada vez, si es posible.<br>
  La <strong>asignación fija</strong> requiere <em>una lista manualmente especificada de direcciones MAC y sus
  direcciones IP correspondientes</em>. Cuando una computadora solicita una IP, el servidor DHCP busca su
  dirección MAC en una tabla y asigna la IP que corresponde a esa dirección MAC. Si no se encuentra la dirección
  MAC, el servidor DHCP puede recurrir a la asignación dinámica o automática, o se podría negar a asignar una IP
  por completo. Esto puede usarse como medida de seguridad para asegurar que sólo los dispositivos cuyas
  direcciones MAC se configuraron específicamente en el servidor DHCP puedan obtener una dirección IP y
  comunicarse en la red.<br>
  Junto con cosas como la dirección IP y la puerta de enlace primaria, también puedes usar DHCP para asignar cosas
  como servidores NTP. NTP significa Protocolo de tiempo de red y se usa para mantener todas las computadoras en
  una red sincronizadas en tiempo.<br>
  <br>
  <a name="h3-2" id="h3-2"></a>
  <h3>DHCP en acción</h3>
  DHCP es un protocolo de <em>capa de aplicación</em>, lo que significa que se basa en las capas de transporte,
  red, enlace de datos y capas físicas para funcionar. Pero te habrás dado cuenta de que la finalidad de DHCP es
  ayudar a configurar la capa de red en sí.<br>
  El proceso por el cual un cliente configurado para usar DHCP intenta obtener información de la configuración de
  red se conoce como <strong>detección DHCP</strong>. El proceso de detección DHCP tiene cuatro pasos.<br>
  Primero, tenemos el paso de <strong>detección del servidor</strong>. Los clientes DHCP envían lo que se conoce
  como un mensaje de detección DHCP a la red. Como la máquina no tiene una IP y no conoce la IP del servidor DHCP,
  se forma, en su lugar, un mensaje de difusión especialmente diseñado. <em>DHCP escucha en el puerto UDP 67 y los
  mensajes de detección DHCP siempre se envían desde el puerto UDP 68</em>. Así que el mensaje
  <strong>DHCPDISCOVER</strong> se encapsula en un datagrama UDP con un puerto de destino de 67 y un puerto de
  origen de 68. Esto, luego, se encapsula dentro de un datagrama IP con una IP de destino de 255.255.255.255, y
  una IP de origen de 0.0.0.0. Este mensaje de difusión se entregará a cada nodo en la red de área local. Y si hay
  un servidor DHCP presente, recibirá este mensaje.<br>
  A continuación, el servidor DHCP examinará su propia configuración y tomará una decisión sobre qué dirección IP
  ofrecer al cliente, si es que hay alguna. Esto dependerá de si está configurado para funcionar con asignación de
  direcciones dinámica, automática o fija. La respuesta se enviará como un mensaje <strong>DHCPOFFER</strong> con
  un puerto de destino de 68, un puerto fuente de 67, una IP de difusión de destino de 255.255.255.255 y su IP
  real como la fuente. Como DHCPOFFER es también una difusión, llegará a cada máquina en la red. El cliente
  original reconocerá que este mensaje estaba destinado a sí mismo. Esto es porque DHCPOFFER tiene el campo que
  especifica la dirección MAC del cliente que envió el mensaje DHCPDISCOVER.<br>
  La máquina cliente ahora procesará este DHCPOFFER para ver qué dirección IP se le ofrece. Técnicamente, un
  cliente DHCP podría rechazar esta oferta. Es totalmente posible que múltiples servidores DHCP se ejecuten en la
  misma red y que un cliente DHCP esté configurado solo para responder a una oferta de un IP dentro de un cierto
  rango. Pero esto no es frecuente.<br>
  El cliente DHCP responderá al mensaje DHCPOFFER con un mensaje <strong>DHCPREQUEST</strong>. Este mensaje dice
  esencialmente: "Sí, me gustaría tener una de las IP que me ofreces". Como la IP no se asignó todavía, esto se
  envía de nuevo desde una IP de 0.0.0.0 a la IP de difusión 255.255.255.255.<br>
  Por último, el servidor DHCP recibe el mensaje DHCPREQUEST y responde con un <strong>DHCPACK</strong> o mensaje
  de acuse de recibo de DHCP. Este mensaje se envía de nuevo a una IP de difusión 255.255.255.255, y con una IP de
  origen correspondiente a la IP real del servidor DHCP. Una vez más, el cliente DHCP reconocerá que este mensaje
  estaba destinado a sí mismo porque tenía incluida su dirección MAC en uno de los campos. Ahora, la pila de redes
  en la computadora cliente puede usar la información de configuración que el servidor DHCP le presentó para
  establecer su propia configuración de capa de red.<br>
  En este punto, la computadora que actúa como cliente DHCP debería tener toda la información que necesita para
  funcionar por completo en la red a la que está conectada. Toda esta configuración se conoce como <em>concesión
  DHCP</em> ya que incluye un tiempo de expiración. Una concesión DHCP puede durar días o solo un corto período de
  tiempo. Una vez que la concesión expire, el cliente DHCP tendrá que negociar una nueva. Para ello, debe volver a
  realizar todo el proceso de detección DHCP. Un cliente también puede liberar su concesión al servidor DHCP, lo
  que hará cuando se desconecte de la red. Esto permitirá que el servidor DHCP devuelva la dirección IP que había
  sido asignada a su conjunto de direcciones IP disponibles.
  <p align="center"><img src="images/home.png" height="22" width="22"> <a href="index.html">Índice</a></p>
</body>
</html>
