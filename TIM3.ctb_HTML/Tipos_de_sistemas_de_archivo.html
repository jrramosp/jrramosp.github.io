<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Tipos de sistemas de archivo</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css">
</head>
<body>
  Un sistema de archivos sirve para rastrear archivos y su almacenamiento en un disco. Sin un sistema de archivos,
  el sistema operativo no sabría cómo organizar los archivos. Para Windows, usamos el sistema de archivos NTFS;
  para Linux, se recomienda usar ext4. Los sistemas de archivos tienen diferentes compatibilidades con distintos
  SO. La mayor parte del tiempo, el soporte inter-SO es mínimo en el mejor de los casos.<br>
  Por suerte, hay sistemas de archivos como FAT32 que admiten lectura y escritura de datos en los tres sistemas
  operativos principales. FAT32 tiene algunas deficiencias, sin embargo. No admite archivos cuyo tamaño supere los
  4 GB y el tamaño del sistema de archivos no puede superar los 32 GB.<br>
  <a href=
  "https://support.microsoft.com/en-us/help/154997/description-of-the-fat32-file-system">https://support.microsoft.com/en-us/help/154997/description-of-the-fat32-file-system</a><br>

  <h3><strong>Anatomía del disco</strong></h3><br>
  Un disco de almacenamiento se puede dividir en algo llamado particiones. Una partición es sólo una parte del
  disco que puedes administrar. Cuando creas múltiples particiones, te da la ilusión de estar dividiendo
  físicamente un disco en discos separados.<br>
  Para incorporar un sistema de archivos a un disco, primero necesitas crear una partición. Por lo general, solo
  tenemos una sola partición para nuestro sistema operativo, pero no es raro tener múltiples particiones para
  diferentes usos.<br>
  También puedes incorporar diferentes sistemas de archivos en diferentes particiones del mismo disco. Las
  particiones funcionan básicamente como sus propios sub discos separados, pero todas usan el mismo disco físico.
  Algo para señalar es que cuando formateas un sistema de archivos en una partición, se convierte en un
  volumen.<br>
  El otro componente de un disco es una tabla de particiones. Una tabla de particiones le indica al SO cómo se
  particiona el disco. Hay dos esquemas principales de tablas de particiones en uso: MBR, o registro de arranque
  maestro, y GPT, o tabla de particiones GUID.<br>
  MBR es una tabla de particiones tradicional, y se usa principalmente en el SO Windows. MBR solo te permite tener
  volúmenes de hasta 2 TB de tamaño. También usa algo llamado particiones primarias. Solo puedes tener cuatro
  particiones primarias en un disco. Si quieres agregar más, tienes que tomar una partición primaria y convertirla
  en algo que se conoce como partición extendida. Dentro de la partición extendida, puedes hacer algo llamado
  partición lógica.<br>
  GPT se está convirtiendo en el nuevo estándar para discos. Puedes tener un volumen cuyo tamaño supere los 2 TB y
  solo tiene un tipo de partición. Puedes hacer tantas particiones como quieras en un disco. En una lección
  anterior, conocimos un nuevo estándar de BIOS, llamado UEFI, que se convirtió en el BIOS predeterminado para
  sistemas más nuevos. Para poder iniciar con UEFI, tu disco tiene que usar la tabla de particiones GUID.<br>
  <h3><strong>Windows: partición de disco y formateo de un sistema de archivos</strong></h3><br>
  Windows realmente viene con una gran herramienta nativa, la utilidad de Administración de discos. La iniciaremos
  haciendo clic derecho en This PC (Este equipo), luego seleccionamos la opción Manage (Administrar), y luego
  hacemos clic en la consola Disk Management (Administración de discos) debajo del grupo de almacenamiento.<br>
  Una vez insertada la unidad y que el servicio plug and play se tome el trabajo de instalar el controlador para
  ello, deberías verla aparecer en la administración de discos como un disco adicional. Actualmente, la unidad USB
  está formateada con el sistema de archivos FAT32. Sigamos adelante y reformateamos la partición usando NTFS en
  su lugar. Para esto, hacemos clic derecho en la partición y elegimos el formato.<br>
  Desde esta ventana, podemos elegir la etiqueta de volumen o el nombre que nos gustaría darle al disco. Vamos a
  quedarnos con "USB DRIVE" (unidad USB). También puedes especificar el sistema de archivos, que cambiaremos a
  NTFS. ¿Qué es eso de "Allocation unit size" (Tamaño de unidad de asignación)? Bueno, el tamaño de la unidad de
  asignación es el tamaño de bloque que se usará al formatear la partición en NTFS. En otras palabras, este es el
  tamaño de los fragmentos en los que se dividirá la partición. Los datos que se deben guardar se distribuirán en
  esos fragmentos. Esto significa que si almacenas muchos archivos pequeños, desperdiciarás menos espacio con
  bloques de tamaño pequeño. Si almacenas archivos grandes, bloques de mayor tamaño implicarán que necesites leer
  menos bloques para ensamblar el archivo. También verás que está disponible la opción de realizar un formato
  rápido. La diferencia entre un formato rápido y un formato completo es que en un formato completo, Windows hará
  un poco de trabajo adicional para escanear el disco, o la unidad USB en nuestro caso, en busca de errores o
  sectores defectuosos. La última opción en la pantalla de formato es si se habilita o no la compresión de
  archivos o carpetas. La decisión de habilitar o deshabilitar la compresión acarrea pros y contras. Si habilitas
  la compresión, tus archivos y carpetas ocuparán menos espacio en el disco, pero para abrir archivos comprimidos,
  necesitarás expandirlos, lo que implica que el procesador de la computadora deberá hacer cierto trabajo
  adicional.<br>
  Después de un cierto tiempo de procesamiento, deberíamos ver que la etiqueta en la partición indica Healthy
  (Correcto).<br>
  Para manipular discos desde la CLI, veremos en profundidad una herramienta llamada <strong>Diskpart</strong>.
  Diskpart es una herramienta basada en terminal, creada para administrar discos directamente desde la línea de
  comandos. Luego, para iniciar Diskpart, todo lo que tenemos que hacer es abrir un símbolo del sistema —en este
  caso, command.exe— y escribir Diskpart en él.<br>
  Puedes listar los discos actuales en el sistema escribiendo "<strong>list disk</strong>". A continuación,
  identificamos el disco que queremos formatear. Luego podemos seleccionarlo con <strong>select disk</strong>
  <strong>1</strong>. Ahora limpiaremos el disco con el comando <strong>clean</strong>, que eliminará todo el
  formato de particiones o volúmenes del disco. Con el disco limpio, ahora necesitamos crearle una partición. Esto
  puede hacerse con el comando <strong>create partition primary</strong> que creará una partición en blanco para
  nuestro sistema de archivos. Luego, vamos a seleccionar la partición con <strong>select partition 1</strong>. Y
  ahora, con solo escribir <strong>active</strong>, la marcaremos como activa.<br>
  El siguiente paso es formatear el disco con el sistema de archivos NTFS. Podemos hacerlo ejecutando este comando
  en el aviso de Diskpart: <strong>format FS=NTFS label="my-thumb-drive" quick</strong>. FS (por "archivo de
  sistema") NTFS y luego la etiqueta (label). Y luego el tipo de formato, vamos a querer hacerlo rápido (quick).
  Este comando formateará la unidad portátil con NTFS en modo rápido, lo que ya hablamos antes, y le dimos el
  nombre "My thumb drive".<br>
  <a href=
  "https://support.microsoft.com/en-us/help/140365/default-cluster-size-for-ntfs-fat-and-exfat">https://support.microsoft.com/en-us/help/140365/default-cluster-size-for-ntfs-fat-and-exfat</a><br>

  <a href=
  "https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-vista/cc766465(v=ws.10)?redirectedfrom=MSDN">
  https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-vista/cc766465(v=ws.10)?redirectedfrom=MSDN</a><br>

  <h3><strong>Linux: Partición de disco y formateo de un sistema de archivos</strong></h3><br>
  En Linux, hay algunas herramientas de línea de comandos de particionado diferentes que podemos usar. Una que
  soporta tanto el particionamiento MBR como el GPT es la herramienta parted. Antes de hacerlo, ejecutemos un
  comando para mostrar qué discos están conectados al ordenador usando el modo de línea de comandos. Podemos hacer
  esto ejecutando el comando <strong>sudo parted - l</strong>. Esto lista los discos que están conectados a
  nuestro ordenador.<br>
  Repasemos rápidamente lo que dice esta salida. Aquí podemos ver que la tabla de particiones está listada como
  gpt. El campo de número corresponde al número de particiones del disco. Podemos ver que hay tres particiones.
  Como este disco es /dev/sda, la primera partición corresponderá a /dev/sda 1 y la segunda a /dev/sda 2 etc. El
  campo de inicio es donde comienza la partición en el disco. Para esta primera partición podemos ver que comienza
  en 1.049 kilobytes y termina en 538 megabytes. El campo siguiente nos muestra el tamaño de la partición. El
  siguiente campo nos dice qué sistema de archivos está en la partición. Luego, tenemos el nombre y finalmente,
  podemos ver algunas banderas que están asociadas con esta partición.<br>
  Seleccionemos nuestro disco /dev/sdb y comencemos a particionarlo. Queremos tener mucho cuidado de seleccionar
  el disco correcto al particionar algo para no particionar accidentalmente el disco equivocado. Vamos a usar el
  modo interactivo de parted ejecutando <strong>sudo parted /dev/sdb</strong>. Ahora estamos en la herramienta
  parted. Desde aquí, podemos ejecutar más comandos. Si queremos salir de esta herramienta y volver al shell
  entonces sólo tenemos que usar el comando <em>quit</em>. Voy a ejecutar print para ver este disco una vez más.
  Dice que tenemos una etiqueta de disco no reconocida. Necesitaremos establecer una etiqueta de disco con el
  comando mklabel. Ya que queremos usar <em>la tabla de particiones</em> gpt usemos este comando. <strong>Mklabel
  gpt</strong>. Veamos de nuevo el estado de nuestro disco para hacer que podamos usar un comando print. Aquí
  podemos ver la información del disco para el disco /dev/sdb seleccionado. Ahora dice que tenemos la tabla de
  particiones gpt. Dentro de la herramienta parted vamos a usar el comando mkpart. El comando mkpart necesita
  tener la siguiente información, qué <em>tipo de partición</em> queremos hacer, qué sistema de ficheros queremos
  formatear, y el inicio y el final del disco así: <strong>mkpart primary ext4 1MiB 5GiB</strong><br>
  El tipo de partición sólo tiene sentido para las tablas de partición mbr. Recuerde que mbr usa particiones
  primarias, extendidas y lógicas. Ya que estamos formateando esto usando gpt, vamos a usar primary como el tipo
  de partición. El punto de inicio aquí es un mebibyte y el punto final es cinco gibytes. Así que nuestra
  partición es esencialmente cinco gibytes. Recuerde desde el curso anterior, que los tamaños de los datos se han
  referido durante mucho tiempo de dos maneras diferentes, usando la medida exacta de los datos y la medida
  estimada de los datos. Recuerda que un kibyte es en realidad 1,024 bytes mientras que un kilobyte es 1,000
  bytes. No hemos tenido que preocuparnos por esta distinción antes. Algunos sistemas operativos a veces miden un
  kilobyte como 1.024 bytes, lo cual es confuso, pero cuando se trata de almacenamiento de datos queremos
  asegurarnos de que estamos utilizando las medidas precisas para no desperdiciar un valioso espacio de
  almacenamiento.<br>
  Optemos por usar mebibyte y gibibyte en nuestra partición. A continuación vamos a formatear la partición con el
  sistema de archivos usando mkfs. Así que voy a quit, <strong>sudo mkfs -t ext4 /dev/sdb1</strong>.<br>
  <a href=
  "https://rm-rf.es/gestion-de-particiones-con-parted-en-linux/">https://rm-rf.es/gestion-de-particiones-con-parted-en-linux/</a><br>

  <h3><strong>Linux: Montaje y desmontaje de un sistema de archivos</strong></h3><br>
  Para comenzar a interactuar con el disco, necesitamos montar el sistema de archivos en el directorio.<br>
  Detengámonos en la ubicación de nuestra partición con sudo parted -l. Muy bien, puedo ver que la partición a la
  que queremos acceder es /dev/sdb1. Ya creé un directorio bajo el directorio raíz llamado my_usb. Vamos a
  intentarlo. Entonces: <strong>sudo mount /dev/sdb1 /my_usb/</strong>. Ahora, si vamos a my_usb, podemos empezar
  a leer y escribir en el nuevo sistema de archivos.<br>
  También podemos desmontar el sistema de archivos de manera similar usando el comando umount. Desmontar es lo
  contrario de montar un disco. Así que ahora vamos a desmontar el sistema de archivos. Puedo usar <strong>sudo
  umount /my_usb</strong>, o sudo umount /dev/sdb1. Ambas servirán para desmontar un sistema de archivos.<br>
  Siempre asegúrate de desmontar un sistema de archivos de una unidad antes de desconectarla físicamente. En el
  caso de una unidad USB, podemos encontrarnos con algunos errores interesantes del sistema de archivos si no lo
  hacemos.<br>
  Además, ten en cuenta que cuando usamos el comando mount para montar un sistema de archivos en un directorio,
  una vez que apagamos la computadora, el punto de montaje desaparece. Sin embargo, podemos montar permanentemente
  un disco si necesitáramos cargarlo automáticamente cuando la computadora se inicia. Para ello, tenemos que
  modificar un archivo llamado /etc/fstab. Si lo abrimos ahora, verás una lista de ID de dispositivos únicos, sus
  puntos de montaje, qué tipo de sistema de archivos son, más un poco de información adicional. Si queremos montar
  automáticamente sistemas de archivos cuando la computadora se inicia, solo hay que agregar una entrada similar a
  lo que se lista aquí. El primer campo que necesitamos agregar en /etc/fstab es el UUID o ID universal único de
  nuestra unidad USB. Para obtener el UUID de nuestros dispositivos, podemos usar este comando: sudo blkid. Nos
  mostrará el UUID para los ID de dispositivo de bloqueo ID, conocidos también como ID de dispositivo de
  almacenamiento.<br>
  <a href="https://es.wikipedia.org/wiki/Fstab">https://es.wikipedia.org/wiki/Fstab</a>
  <p align="center"><img src="images/home.png" height="22" width="22"> <a href="index.html">Índice</a></p>
</body>
</html>
